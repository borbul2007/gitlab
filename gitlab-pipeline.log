[0KRunning with gitlab-runner 17.5.2 (c6eae8d7)[0;m
[0K  on gitlab-runner 1796qHVZP, system ID: s_3e9ef278e61f[0;m
section_start:1730458562:prepare_executor
[0K[0K[36;1mPreparing the "docker" executor[0;m[0;m
[0KUsing Docker executor with image gcr.io/kaniko-project/executor:v1.23.2-debug ...[0;m
[0KPulling docker image gcr.io/kaniko-project/executor:v1.23.2-debug ...[0;m
[0KUsing docker image sha256:16b383e1c3b259d59f75a2720a45ccf15b3a716cef44c6a5c521ceb471117168 for gcr.io/kaniko-project/executor:v1.23.2-debug with digest gcr.io/kaniko-project/executor@sha256:c3109d5926a997b100c4343944e06c6b30a6804b2f9abe0994d3de6ef92b028e ...[0;m
section_end:1730458565:prepare_executor
[0Ksection_start:1730458565:prepare_script
[0K[0K[36;1mPreparing environment[0;m[0;m
Running on runner-1796qhvzp-project-1-concurrent-0 via gitlab-runner...
section_end:1730458565:prepare_script
[0Ksection_start:1730458565:get_sources
[0K[0K[36;1mGetting source from Git repository[0;m[0;m
[32;1mFetching changes with git depth set to 20...[0;m
Reinitialized existing Git repository in /builds/borbul/netology/.git/
[32;1mChecking out b7c1ed81 as detached HEAD (ref is main)...[0;m

[32;1mSkipping Git submodules setup[0;m
section_end:1730458566:get_sources
[0Ksection_start:1730458566:step_script
[0K[0K[36;1mExecuting "step_script" stage of the job script[0;m[0;m
[0KUsing docker image sha256:16b383e1c3b259d59f75a2720a45ccf15b3a716cef44c6a5c521ceb471117168 for gcr.io/kaniko-project/executor:v1.23.2-debug with digest gcr.io/kaniko-project/executor@sha256:c3109d5926a997b100c4343944e06c6b30a6804b2f9abe0994d3de6ef92b028e ...[0;m
[32;1m$ mkdir -p /kaniko/.docker[0;m
[32;1m$ echo "{\"auths\":{\"${CI_REGISTRY}\":{\"auth\":\"$(printf "%s:%s" "${CI_REGISTRY_USER}" "${CI_REGISTRY_PASSWORD}" | base64 | tr -d '\n')\"},\"$(echo -n $CI_DEPENDENCY_PROXY_SERVER | awk -F[:] '{print $1}')\":{\"auth\":\"$(printf "%s:%s" ${CI_DEPENDENCY_PROXY_USER} "${CI_DEPENDENCY_PROXY_PASSWORD}" | base64 | tr -d '\n')\"}}}" > /kaniko/.docker/config.json[0;m
[32;1m$ /kaniko/executor --verbosity=info --skip-tls-verify --context ${CI_PROJECT_DIR} --destination "${CI_REGISTRY_IMAGE}/hello:gitlab-$CI_COMMIT_SHORT_SHA"[0;m
[36mINFO[0m[0000] Retrieving image manifest centos             
[36mINFO[0m[0000] Retrieving image centos from registry index.docker.io 
[36mINFO[0m[0001] Built cross stage deps: map[]                
[36mINFO[0m[0001] Retrieving image manifest centos             
[36mINFO[0m[0001] Returning cached image manifest              
[36mINFO[0m[0001] Executing 0 build triggers                   
[36mINFO[0m[0001] Building stage 'centos' [idx: '0', base-idx: '-1'] 
[36mINFO[0m[0001] Unpacking rootfs as cmd RUN rm -rf /etc/yum.repos.d/* requires it. 
[36mINFO[0m[0005] RUN rm -rf /etc/yum.repos.d/*                
[36mINFO[0m[0005] Initializing snapshotter ...                 
[36mINFO[0m[0005] Taking snapshot of full filesystem...        
[36mINFO[0m[0010] Cmd: /bin/sh                                 
[36mINFO[0m[0010] Args: [-c rm -rf /etc/yum.repos.d/*]         
[36mINFO[0m[0010] Running: [/bin/sh -c rm -rf /etc/yum.repos.d/*] 
[36mINFO[0m[0010] Taking snapshot of full filesystem...        
[36mINFO[0m[0010] COPY CentOS-Base.repo /etc/yum.repos.d/      
[36mINFO[0m[0010] Taking snapshot of files...                  
[36mINFO[0m[0010] RUN yum -y install python3 python3-pip && pip3 install flask flask-jsonpify flask-restful 
[36mINFO[0m[0010] Cmd: /bin/sh                                 
[36mINFO[0m[0010] Args: [-c yum -y install python3 python3-pip && pip3 install flask flask-jsonpify flask-restful] 
[36mINFO[0m[0010] Running: [/bin/sh -c yum -y install python3 python3-pip && pip3 install flask flask-jsonpify flask-restful] 
CentOS Linux 8 - BaseOS                         8.3 MB/s | 4.6 MB     00:00    
CentOS Linux 8 - AppStream                       13 MB/s | 8.4 MB     00:00    
CentOS Linux 8 - Extras                          45 kB/s |  10 kB     00:00    
Dependencies resolved.
================================================================================
 Package            Arch   Version                              Repo       Size
================================================================================
Installing:
 python3-pip        noarch 9.0.3-20.el8                         appstream  20 k
 python36           x86_64 3.6.8-38.module_el8.5.0+895+a459eca8 appstream  19 k
Upgrading:
 chkconfig          x86_64 1.19.1-1.el8                         baseos    198 k
Installing dependencies:
 platform-python-pip
                    noarch 9.0.3-20.el8                         baseos    1.7 M
 python3-setuptools noarch 39.2.0-6.el8                         baseos    163 k
Enabling module streams:
 python36                  3.6                                                 

Transaction Summary
================================================================================
Install  4 Packages
Upgrade  1 Package

Total download size: 2.1 M
Downloading Packages:
(1/5): python3-pip-9.0.3-20.el8.noarch.rpm      153 kB/s |  20 kB     00:00    
(2/5): python36-3.6.8-38.module_el8.5.0+895+a45 509 kB/s |  19 kB     00:00    
(3/5): python3-setuptools-39.2.0-6.el8.noarch.r 812 kB/s | 163 kB     00:00    
(4/5): chkconfig-1.19.1-1.el8.x86_64.rpm        1.9 MB/s | 198 kB     00:00    
(5/5): platform-python-pip-9.0.3-20.el8.noarch. 5.7 MB/s | 1.7 MB     00:00    
--------------------------------------------------------------------------------
Total                                           6.9 MB/s | 2.1 MB     00:00     
warning: /var/cache/dnf/baseos-e108a6968e5ebd83/packages/platform-python-pip-9.0.3-20.el8.noarch.rpm: Header V3 RSA/SHA256 Signature, key ID 8483c65d: NOKEY
CentOS Linux 8 - BaseOS                         1.6 MB/s | 1.6 kB     00:00    
Importing GPG key 0x8483C65D:
 Userid     : "CentOS (CentOS Official Signing Key) <security@centos.org>"
 Fingerprint: 99DB 70FA E1D7 CE22 7FB6 4882 05B5 55B3 8483 C65D
 From       : /etc/pki/rpm-gpg/RPM-GPG-KEY-centosofficial
Key imported successfully
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                        1/1 
  Upgrading        : chkconfig-1.19.1-1.el8.x86_64                          1/6 
  Installing       : python3-setuptools-39.2.0-6.el8.noarch                 2/6 
  Installing       : platform-python-pip-9.0.3-20.el8.noarch                3/6 
  Installing       : python36-3.6.8-38.module_el8.5.0+895+a459eca8.x86_64   4/6 
  Running scriptlet: python36-3.6.8-38.module_el8.5.0+895+a459eca8.x86_64   4/6 
  Installing       : python3-pip-9.0.3-20.el8.noarch                        5/6 
  Cleanup          : chkconfig-1.13-2.el8.x86_64                            6/6 
  Running scriptlet: chkconfig-1.13-2.el8.x86_64                            6/6 
  Verifying        : platform-python-pip-9.0.3-20.el8.noarch                1/6 
  Verifying        : python3-setuptools-39.2.0-6.el8.noarch                 2/6 
  Verifying        : python3-pip-9.0.3-20.el8.noarch                        3/6 
  Verifying        : python36-3.6.8-38.module_el8.5.0+895+a459eca8.x86_64   4/6 
  Verifying        : chkconfig-1.19.1-1.el8.x86_64                          5/6 
  Verifying        : chkconfig-1.13-2.el8.x86_64                            6/6 

Upgraded:
  chkconfig-1.19.1-1.el8.x86_64                                                 
Installed:
  platform-python-pip-9.0.3-20.el8.noarch                                       
  python3-pip-9.0.3-20.el8.noarch                                               
  python3-setuptools-39.2.0-6.el8.noarch                                        
  python36-3.6.8-38.module_el8.5.0+895+a459eca8.x86_64                          

Complete!
WARNING: Running pip install with root privileges is generally not a good idea. Try `pip3 install --user` instead.
Collecting flask
  Downloading https://files.pythonhosted.org/packages/cd/77/59df23681f4fd19b7cbbb5e92484d46ad587554f5d490f33ef907e456132/Flask-2.0.3-py3-none-any.whl (95kB)
Collecting flask-jsonpify
  Downloading https://files.pythonhosted.org/packages/60/0f/c389dea3988bffbe32c1a667989914b1cc0bce31b338c8da844d5e42b503/Flask-Jsonpify-1.5.0.tar.gz
Collecting flask-restful
  Downloading https://files.pythonhosted.org/packages/d7/7b/f0b45f0df7d2978e5ae51804bb5939b7897b2ace24306009da0cc34d8d1f/Flask_RESTful-0.3.10-py2.py3-none-any.whl
Collecting click>=7.1.2 (from flask)
  Downloading https://files.pythonhosted.org/packages/4a/a8/0b2ced25639fb20cc1c9784de90a8c25f9504a7f18cd8b5397bd61696d7d/click-8.0.4-py3-none-any.whl (97kB)
Collecting itsdangerous>=2.0 (from flask)
  Downloading https://files.pythonhosted.org/packages/9c/96/26f935afba9cd6140216da5add223a0c465b99d0f112b68a4ca426441019/itsdangerous-2.0.1-py3-none-any.whl
Collecting Werkzeug>=2.0 (from flask)
  Downloading https://files.pythonhosted.org/packages/f4/f3/22afbdb20cc4654b10c98043414a14057cd27fdba9d4ae61cea596000ba2/Werkzeug-2.0.3-py3-none-any.whl (289kB)
Collecting Jinja2>=3.0 (from flask)
  Downloading https://files.pythonhosted.org/packages/20/9a/e5d9ec41927401e41aea8af6d16e78b5e612bca4699d417f646a9610a076/Jinja2-3.0.3-py3-none-any.whl (133kB)
Collecting aniso8601>=0.82 (from flask-restful)
  Downloading https://files.pythonhosted.org/packages/e3/04/e97c12dc034791d7b504860acfcdd2963fa21ae61eaca1c9d31245f812c3/aniso8601-9.0.1-py2.py3-none-any.whl (52kB)
Collecting pytz (from flask-restful)
  Downloading https://files.pythonhosted.org/packages/11/c3/005fcca25ce078d2cc29fd559379817424e94885510568bc1bc53d7d5846/pytz-2024.2-py2.py3-none-any.whl (508kB)
Collecting six>=1.3.0 (from flask-restful)
  Downloading https://files.pythonhosted.org/packages/d9/5a/e7c31adbe875f2abbb91bd84cf2dc52d792b5a01506781dbcf25c91daf11/six-1.16.0-py2.py3-none-any.whl
Collecting importlib-metadata; python_version < "3.8" (from click>=7.1.2->flask)
  Downloading https://files.pythonhosted.org/packages/a0/a1/b153a0a4caf7a7e3f15c2cd56c7702e2cf3d89b1b359d1f1c5e59d68f4ce/importlib_metadata-4.8.3-py3-none-any.whl
Collecting dataclasses; python_version < "3.7" (from Werkzeug>=2.0->flask)
  Downloading https://files.pythonhosted.org/packages/fe/ca/75fac5856ab5cfa51bbbcefa250182e50441074fdc3f803f6e76451fab43/dataclasses-0.8-py3-none-any.whl
Collecting MarkupSafe>=2.0 (from Jinja2>=3.0->flask)
  Downloading https://files.pythonhosted.org/packages/fc/d6/57f9a97e56447a1e340f8574836d3b636e2c14de304943836bd645fa9c7e/MarkupSafe-2.0.1-cp36-cp36m-manylinux1_x86_64.whl
Collecting zipp>=0.5 (from importlib-metadata; python_version < "3.8"->click>=7.1.2->flask)
  Downloading https://files.pythonhosted.org/packages/bd/df/d4a4974a3e3957fd1c1fa3082366d7fff6e428ddb55f074bf64876f8e8ad/zipp-3.6.0-py3-none-any.whl
Collecting typing-extensions>=3.6.4; python_version < "3.8" (from importlib-metadata; python_version < "3.8"->click>=7.1.2->flask)
  Downloading https://files.pythonhosted.org/packages/45/6b/44f7f8f1e110027cf88956b59f2fad776cca7e1704396d043f89effd3a0e/typing_extensions-4.1.1-py3-none-any.whl
Installing collected packages: zipp, typing-extensions, importlib-metadata, click, itsdangerous, dataclasses, Werkzeug, MarkupSafe, Jinja2, flask, flask-jsonpify, aniso8601, pytz, six, flask-restful
  Running setup.py install for flask-jsonpify: started
    Running setup.py install for flask-jsonpify: finished with status 'done'
Successfully installed Jinja2-3.0.3 MarkupSafe-2.0.1 Werkzeug-2.0.3 aniso8601-9.0.1 click-8.0.4 dataclasses-0.8 flask-2.0.3 flask-jsonpify-1.5.0 flask-restful-0.3.10 importlib-metadata-4.8.3 itsdangerous-2.0.1 pytz-2024.2 six-1.16.0 typing-extensions-4.1.1 zipp-3.6.0
[36mINFO[0m[0024] Taking snapshot of full filesystem...        
[36mINFO[0m[0026] WORKDIR /python_api                          
[36mINFO[0m[0026] Cmd: workdir                                 
[36mINFO[0m[0026] Changed working directory to /python_api     
[36mINFO[0m[0026] Creating directory /python_api with uid -1 and gid -1 
[36mINFO[0m[0026] Taking snapshot of files...                  
[36mINFO[0m[0026] COPY python-api.py .                         
[36mINFO[0m[0026] Taking snapshot of files...                  
[36mINFO[0m[0026] ENTRYPOINT ['python','python-api.py']        
[36mINFO[0m[0026] Pushing image to borbul2007.gitlab.yandexcloud.net:5050/borbul/netology/hello:gitlab-b7c1ed81 
[36mINFO[0m[0033] Pushed borbul2007.gitlab.yandexcloud.net:5050/borbul/netology/hello@sha256:3d297db836ab9214477057e9ce5d1b35a8548ad67615c2cd5e62458c6af19537 
section_end:1730458601:step_script
[0Ksection_start:1730458601:cleanup_file_variables
[0K[0K[36;1mCleaning up project directory and file based variables[0;m[0;m
section_end:1730458601:cleanup_file_variables
[0K[32;1mJob succeeded[0;m
